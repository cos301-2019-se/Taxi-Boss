{"version":3,"sources":["platform-server.umd.js"],"names":["global","factory","exports","module","require","define","amd","ng","platformServer","core","platformBrowser","animations","browser","common","http","platformBrowserDynamic","Rx","url","compiler","Observable","prototype","this","_angular_core","_angular_platformBrowser","_angular_animations_browser","_angular_common","_angular_common_http","_angular_http","_angular_platformBrowserDynamic","_angular_platformBrowser_animations","rxjs_Observable","rxjs_Subject","_angular_compiler","rxjs_operator_filter","rxjs_operator_first","rxjs_operator_toPromise","__extends","d","b","__","constructor","extendStatics","Object","create","_notImplemented","methodName","Error","parseDocument","html","url$$1","domino","createWindow","document","serializeDocument","doc","serialize","validateRequestUrl","isAbsoluteUrl","test","httpFactory","xhrBackend","options","macroBackend","ZoneMacroTaskBackend","Http","zoneWrappedInterceptingHandler","backend","interceptors","realBackend","ɵinterceptingHandler","ZoneClientBackend","parseUrl","urlStr","parsedUrl","parse","pathname","search","hash","scheduleMicroTask","fn","Zone","current","checkNoSyntheticProp","name","nameKind","charCodeAt","AT_CHARCODE","initDominoAdapter","injector","DominoAdapter","makeCurrent","instantiateServerRendererFactory","renderer","engine","zone","ɵAnimationRendererFactory","_document","config","get","INITIAL_CONFIG","ɵgetDOM","createHtmlDocument","serializeTransferStateFactory","appId","transferStore","script","createElement","id","setAttribute","textContent","ɵescapeHtml","toJson","body","appendChild","_getPlatform","platformFactory","extraProviders","provide","useValue","_render","platform","moduleRefPromise","then","moduleRef","ɵTRANSITION_ID","applicationRef","ApplicationRef","toPromise","call","first","filter","isStable","platformState","PlatformState","callbacks","BEFORE_APP_SERIALIZED","_i","callbacks_1","length","callback","e","console","warn","output","renderToString","destroy","renderModule","platformDynamicServer","bootstrapModule","renderModuleFactory","moduleFactory","bootstrapModuleFactory","setPrototypeOf","__proto__","Array","p","hasOwnProperty","_super","apply","arguments","ɵsetRootDomAdapter","logError","error","log","logGroup","logGroupEnd","supportsDOMEvents","supportsNativeShadowDOM","contains","nodeA","nodeB","inner","parent","getDefaultDocument","defaultDoc","createDocument","createShadowRoot","el","shadowRoot","createDocumentFragment","getShadowRoot","isTextNode","node","nodeType","TEXT_NODE","isCommentNode","COMMENT_NODE","isElementNode","ELEMENT_NODE","hasShadowRoot","isShadowRoot","getProperty","getAttribute","setProperty","value","getGlobalEventTarget","target","defaultView","getBaseHref","base","querySelector","documentElement","href","getHref","_readStyleAttribute","element","styleMap","styleAttribute","styleList","split","i","style","trim","colonIndex","indexOf","name_1","substr","_writeStyleAttribute","styleAttrValue","key","setStyle","styleName","styleValue","replace","toLowerCase","removeStyle","getStyle","hasStyle","dispatchEvent","evt","ownerDocument","win","getHistory","getLocation","getUserAgent","supportsWebAnimation","performanceNow","Date","now","getAnimationPrefix","getTransitionEnd","supportsAnimation","getDistributedNodes","supportsCookies","getCookie","setCookie","ɵBrowserDomAdapter","_doc","getDocument","decorators","type","Injectable","ctorParameters","undefined","Inject","args","DOCUMENT","xhr2","ServerXhr","build","XMLHttpRequest","ServerXsrfStrategy","configureRequest","req","ZoneMacroTaskWrapper","wrap","request","_this","observer","task","scheduled","sub","savedResult","savedError","cancelTask","_task","unsubscribe","onComplete","next","complete","scheduleMacroTask","delegate","subscribe","res","err","invoke","ZoneMacroTaskConnection","response","lastConnection","createConnection","defineProperty","readyState","ReadyState","Unsent","enumerable","configurable","handle","SERVER_HTTP_PROVIDERS","useFactory","deps","XHRBackend","RequestOptions","BrowserXhr","useClass","XSRFStrategy","XhrFactory","HttpHandler","HttpBackend","Optional","HTTP_INTERCEPTORS","InjectionToken","ServerPlatformLocation","_config","_hashUpdate","Subject","getBaseHrefFromDOM","onPopState","onHashChange","setHash","oldUrl","newUrl","replaceState","state","title","pushState","forward","back","EMPTY_ARRAY","ServerRendererFactory2","ngZone","sharedStylesHost","rendererByCompId","Map","schema","DomElementSchemaRegistry","defaultRenderer","DefaultServerRenderer2","createRenderer","encapsulation","ViewEncapsulation","Native","Emulated","EmulatedEncapsulationServerRenderer2","set","applyToHost","has","styles","ɵflattenStyles","addStyles","begin","end","NgZone","ɵSharedStylesHost","data","namespace","debugInfo","createElementNS","ɵNAMESPACE_URIS","createComment","createText","createTextNode","newChild","insertBefore","refChild","removeChild","oldChild","selectRootElement","selectorOrNode","clearNodes","parentNode","parentElement","nextSibling","setAttributeNS","removeAttribute","removeAttributeNS","addClass","removeClass","flags","_isSafeToReflectProperty","tagName","propertyName","securityContext","hasElement","hasProperty","toString","setValue","setText","listen","eventName","outsideHandler","event","runGuarded","runOutsideAngular","onAndCancel","component","contentAttr","ɵshimContentAttribute","hostAttr","ɵshimHostAttribute","ServerStylesHost","transitionId","head","getElementsByTagName","_addStyle","adapter","onStylesAdded","additions","forEach","INTERNAL_SERVER_PLATFORM_PROVIDERS","Injector","PLATFORM_ID","ɵPLATFORM_SERVER_ID","PLATFORM_INITIALIZER","multi","PlatformLocation","ɵALLOW_MULTIPLE_PLATFORMS","SERVER_RENDER_PROVIDERS","RendererFactory2","ɵAnimationEngine","useExisting","ServerModule","NgModule","BrowserModule","imports","HttpModule","HttpClientModule","NoopAnimationsModule","providers","Testability","createPlatformFactory","platformCore","ɵplatformCoreDynamic","ServerTransferStateModule","TransferState","APP_ID","VERSION","Version","ɵINTERNAL_SERVER_PLATFORM_PROVIDERS","ɵSERVER_RENDER_PROVIDERS","ɵServerRendererFactory2","ɵh","ɵd","ɵe","ɵf","ɵg","ɵa","ɵc","ɵb"],"mappings":"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","file":"platform-server.umd.min.js","sourcesContent":["/**\n * @license Angular v5.2.9\n * (c) 2010-2018 Google, Inc. https://angular.io/\n * License: MIT\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/platform-browser'), require('@angular/animations/browser'), require('@angular/common'), require('@angular/common/http'), require('@angular/http'), require('@angular/platform-browser-dynamic'), require('@angular/platform-browser/animations'), require('rxjs/Observable'), require('rxjs/Subject'), require('url'), require('@angular/compiler'), require('rxjs/operator/filter'), require('rxjs/operator/first'), require('rxjs/operator/toPromise')) :\n\ttypeof define === 'function' && define.amd ? define('@angular/platform-server', ['exports', '@angular/core', '@angular/platform-browser', '@angular/animations/browser', '@angular/common', '@angular/common/http', '@angular/http', '@angular/platform-browser-dynamic', '@angular/platform-browser/animations', 'rxjs/Observable', 'rxjs/Subject', 'url', '@angular/compiler', 'rxjs/operator/filter', 'rxjs/operator/first', 'rxjs/operator/toPromise'], factory) :\n\t(factory((global.ng = global.ng || {}, global.ng.platformServer = {}),global.ng.core,global.ng.platformBrowser,global.ng.animations.browser,global.ng.common,global.ng.common.http,global.ng.http,global.ng.platformBrowserDynamic,global.ng.platformBrowser.animations,global.Rx,global.Rx,global.url,global.ng.compiler,global.Rx.Observable.prototype,global.Rx.Observable.prototype,global.Rx.Observable.prototype));\n}(this, (function (exports,_angular_core,_angular_platformBrowser,_angular_animations_browser,_angular_common,_angular_common_http,_angular_http,_angular_platformBrowserDynamic,_angular_platformBrowser_animations,rxjs_Observable,rxjs_Subject,url,_angular_compiler,rxjs_operator_filter,rxjs_operator_first,rxjs_operator_toPromise) { 'use strict';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\n\n/**\n * @license Angular v5.2.9\n * (c) 2010-2018 Google, Inc. https://angular.io/\n * License: MIT\n */\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar domino = require('domino');\n/**\n * @param {?} methodName\n * @return {?}\n */\nfunction _notImplemented(methodName) {\n    return new Error('This method is not implemented in DominoAdapter: ' + methodName);\n}\n/**\n * Parses a document string to a Document object.\n * @param {?} html\n * @param {?=} url\n * @return {?}\n */\nfunction parseDocument(html, url$$1) {\n    if (url$$1 === void 0) { url$$1 = '/'; }\n    var /** @type {?} */ window = domino.createWindow(html, url$$1);\n    var /** @type {?} */ doc = window.document;\n    return doc;\n}\n/**\n * Serializes a document to string.\n * @param {?} doc\n * @return {?}\n */\nfunction serializeDocument(doc) {\n    return (/** @type {?} */ (doc)).serialize();\n}\n/**\n * DOM Adapter for the server platform based on https://github.com/fgnass/domino.\n */\nvar DominoAdapter = /** @class */ (function (_super) {\n    __extends(DominoAdapter, _super);\n    function DominoAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @return {?}\n     */\n    DominoAdapter.makeCurrent = /**\n     * @return {?}\n     */\n    function () { _angular_platformBrowser.ɵsetRootDomAdapter(new DominoAdapter()); };\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    DominoAdapter.prototype.logError = /**\n     * @param {?} error\n     * @return {?}\n     */\n    function (error) { console.error(error); };\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    DominoAdapter.prototype.log = /**\n     * @param {?} error\n     * @return {?}\n     */\n    function (error) {\n        // tslint:disable-next-line:no-console\n        console.log(error);\n    };\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    DominoAdapter.prototype.logGroup = /**\n     * @param {?} error\n     * @return {?}\n     */\n    function (error) { console.error(error); };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.logGroupEnd = /**\n     * @return {?}\n     */\n    function () { };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.supportsDOMEvents = /**\n     * @return {?}\n     */\n    function () { return false; };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.supportsNativeShadowDOM = /**\n     * @return {?}\n     */\n    function () { return false; };\n    /**\n     * @param {?} nodeA\n     * @param {?} nodeB\n     * @return {?}\n     */\n    DominoAdapter.prototype.contains = /**\n     * @param {?} nodeA\n     * @param {?} nodeB\n     * @return {?}\n     */\n    function (nodeA, nodeB) {\n        var /** @type {?} */ inner = nodeB;\n        while (inner) {\n            if (inner === nodeA)\n                return true;\n            inner = inner.parent;\n        }\n        return false;\n    };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.createHtmlDocument = /**\n     * @return {?}\n     */\n    function () {\n        return parseDocument('<html><head><title>fakeTitle</title></head><body></body></html>');\n    };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.getDefaultDocument = /**\n     * @return {?}\n     */\n    function () {\n        if (!DominoAdapter.defaultDoc) {\n            DominoAdapter.defaultDoc = domino.createDocument();\n        }\n        return DominoAdapter.defaultDoc;\n    };\n    /**\n     * @param {?} el\n     * @param {?=} doc\n     * @return {?}\n     */\n    DominoAdapter.prototype.createShadowRoot = /**\n     * @param {?} el\n     * @param {?=} doc\n     * @return {?}\n     */\n    function (el, doc) {\n        if (doc === void 0) { doc = document; }\n        el.shadowRoot = doc.createDocumentFragment();\n        el.shadowRoot.parent = el;\n        return el.shadowRoot;\n    };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    DominoAdapter.prototype.getShadowRoot = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { return el.shadowRoot; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    DominoAdapter.prototype.isTextNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { return node.nodeType === DominoAdapter.defaultDoc.TEXT_NODE; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    DominoAdapter.prototype.isCommentNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) {\n        return node.nodeType === DominoAdapter.defaultDoc.COMMENT_NODE;\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    DominoAdapter.prototype.isElementNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) {\n        return node ? node.nodeType === DominoAdapter.defaultDoc.ELEMENT_NODE : false;\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    DominoAdapter.prototype.hasShadowRoot = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { return node.shadowRoot != null; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    DominoAdapter.prototype.isShadowRoot = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { return this.getShadowRoot(node) == node; };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    DominoAdapter.prototype.getProperty = /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (el, name) {\n        if (name === 'href') {\n            // Domino tries tp resolve href-s which we do not want. Just return the\n            // atribute value.\n            return this.getAttribute(el, 'href');\n        }\n        else if (name === 'innerText') {\n            // Domino does not support innerText. Just map it to textContent.\n            return el.textContent;\n        }\n        return (/** @type {?} */ (el))[name];\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    DominoAdapter.prototype.setProperty = /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, name, value) {\n        if (name === 'href') {\n            // Eventhough the server renderer reflects any properties to attributes\n            // map 'href' to atribute just to handle when setProperty is directly called.\n            this.setAttribute(el, 'href', value);\n        }\n        else if (name === 'innerText') {\n            // Domino does not support innerText. Just map it to textContent.\n            el.textContent = value;\n        }\n        (/** @type {?} */ (el))[name] = value;\n    };\n    /**\n     * @param {?} doc\n     * @param {?} target\n     * @return {?}\n     */\n    DominoAdapter.prototype.getGlobalEventTarget = /**\n     * @param {?} doc\n     * @param {?} target\n     * @return {?}\n     */\n    function (doc, target) {\n        if (target === 'window') {\n            return doc.defaultView;\n        }\n        if (target === 'document') {\n            return doc;\n        }\n        if (target === 'body') {\n            return doc.body;\n        }\n        return null;\n    };\n    /**\n     * @param {?} doc\n     * @return {?}\n     */\n    DominoAdapter.prototype.getBaseHref = /**\n     * @param {?} doc\n     * @return {?}\n     */\n    function (doc) {\n        var /** @type {?} */ base = this.querySelector(doc.documentElement, 'base');\n        var /** @type {?} */ href = '';\n        if (base) {\n            href = this.getHref(base);\n        }\n        // TODO(alxhub): Need relative path logic from BrowserDomAdapter here?\n        return href;\n    };\n    /** @internal */\n    /**\n     * \\@internal\n     * @param {?} element\n     * @return {?}\n     */\n    DominoAdapter.prototype._readStyleAttribute = /**\n     * \\@internal\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) {\n        var /** @type {?} */ styleMap = {};\n        var /** @type {?} */ styleAttribute = element.getAttribute('style');\n        if (styleAttribute) {\n            var /** @type {?} */ styleList = styleAttribute.split(/;+/g);\n            for (var /** @type {?} */ i = 0; i < styleList.length; i++) {\n                var /** @type {?} */ style = styleList[i].trim();\n                if (style.length > 0) {\n                    var /** @type {?} */ colonIndex = style.indexOf(':');\n                    if (colonIndex === -1) {\n                        throw new Error(\"Invalid CSS style: \" + style);\n                    }\n                    var /** @type {?} */ name_1 = style.substr(0, colonIndex).trim();\n                    styleMap[name_1] = style.substr(colonIndex + 1).trim();\n                }\n            }\n        }\n        return styleMap;\n    };\n    /** @internal */\n    /**\n     * \\@internal\n     * @param {?} element\n     * @param {?} styleMap\n     * @return {?}\n     */\n    DominoAdapter.prototype._writeStyleAttribute = /**\n     * \\@internal\n     * @param {?} element\n     * @param {?} styleMap\n     * @return {?}\n     */\n    function (element, styleMap) {\n        var /** @type {?} */ styleAttrValue = '';\n        for (var /** @type {?} */ key in styleMap) {\n            var /** @type {?} */ newValue = styleMap[key];\n            if (newValue) {\n                styleAttrValue += key + ':' + styleMap[key] + ';';\n            }\n        }\n        element.setAttribute('style', styleAttrValue);\n    };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?=} styleValue\n     * @return {?}\n     */\n    DominoAdapter.prototype.setStyle = /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?=} styleValue\n     * @return {?}\n     */\n    function (element, styleName, styleValue) {\n        styleName = styleName.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n        var /** @type {?} */ styleMap = this._readStyleAttribute(element);\n        styleMap[styleName] = styleValue || '';\n        this._writeStyleAttribute(element, styleMap);\n    };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    DominoAdapter.prototype.removeStyle = /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    function (element, styleName) {\n        // IE requires '' instead of null\n        // see https://github.com/angular/angular/issues/7916\n        this.setStyle(element, styleName, '');\n    };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    DominoAdapter.prototype.getStyle = /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    function (element, styleName) {\n        var /** @type {?} */ styleMap = this._readStyleAttribute(element);\n        return styleMap[styleName] || '';\n    };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?=} styleValue\n     * @return {?}\n     */\n    DominoAdapter.prototype.hasStyle = /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?=} styleValue\n     * @return {?}\n     */\n    function (element, styleName, styleValue) {\n        var /** @type {?} */ value = this.getStyle(element, styleName);\n        return styleValue ? value == styleValue : value.length > 0;\n    };\n    /**\n     * @param {?} el\n     * @param {?} evt\n     * @return {?}\n     */\n    DominoAdapter.prototype.dispatchEvent = /**\n     * @param {?} el\n     * @param {?} evt\n     * @return {?}\n     */\n    function (el, evt) {\n        el.dispatchEvent(evt);\n        // Dispatch the event to the window also.\n        var /** @type {?} */ doc = el.ownerDocument || el;\n        var /** @type {?} */ win = (/** @type {?} */ (doc)).defaultView;\n        if (win) {\n            win.dispatchEvent(evt);\n        }\n    };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.getHistory = /**\n     * @return {?}\n     */\n    function () { throw _notImplemented('getHistory'); };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.getLocation = /**\n     * @return {?}\n     */\n    function () { throw _notImplemented('getLocation'); };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.getUserAgent = /**\n     * @return {?}\n     */\n    function () { return 'Fake user agent'; };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.supportsWebAnimation = /**\n     * @return {?}\n     */\n    function () { return false; };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.performanceNow = /**\n     * @return {?}\n     */\n    function () { return Date.now(); };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.getAnimationPrefix = /**\n     * @return {?}\n     */\n    function () { return ''; };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.getTransitionEnd = /**\n     * @return {?}\n     */\n    function () { return 'transitionend'; };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.supportsAnimation = /**\n     * @return {?}\n     */\n    function () { return true; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    DominoAdapter.prototype.getDistributedNodes = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw _notImplemented('getDistributedNodes'); };\n    /**\n     * @return {?}\n     */\n    DominoAdapter.prototype.supportsCookies = /**\n     * @return {?}\n     */\n    function () { return false; };\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    DominoAdapter.prototype.getCookie = /**\n     * @param {?} name\n     * @return {?}\n     */\n    function (name) { throw _notImplemented('getCookie'); };\n    /**\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    DominoAdapter.prototype.setCookie = /**\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (name, value) { throw _notImplemented('setCookie'); };\n    return DominoAdapter;\n}(_angular_platformBrowser.ɵBrowserDomAdapter));\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Representation of the current platform state.\n *\n * \\@experimental\n */\nvar PlatformState = /** @class */ (function () {\n    function PlatformState(_doc) {\n        this._doc = _doc;\n    }\n    /**\n     * Renders the current state of the platform to string.\n     */\n    /**\n     * Renders the current state of the platform to string.\n     * @return {?}\n     */\n    PlatformState.prototype.renderToString = /**\n     * Renders the current state of the platform to string.\n     * @return {?}\n     */\n    function () { return serializeDocument(this._doc); };\n    /**\n     * Returns the current DOM state.\n     */\n    /**\n     * Returns the current DOM state.\n     * @return {?}\n     */\n    PlatformState.prototype.getDocument = /**\n     * Returns the current DOM state.\n     * @return {?}\n     */\n    function () { return this._doc; };\n    PlatformState.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    PlatformState.ctorParameters = function () { return [\n        { type: undefined, decorators: [{ type: _angular_core.Inject, args: [_angular_platformBrowser.DOCUMENT,] },] },\n    ]; };\n    return PlatformState;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar xhr2 = require('xhr2');\nvar isAbsoluteUrl = /^[a-zA-Z\\-\\+.]+:\\/\\//;\n/**\n * @param {?} url\n * @return {?}\n */\nfunction validateRequestUrl(url$$1) {\n    if (!isAbsoluteUrl.test(url$$1)) {\n        throw new Error(\"URLs requested via Http on the server must be absolute. URL: \" + url$$1);\n    }\n}\nvar ServerXhr = /** @class */ (function () {\n    function ServerXhr() {\n    }\n    /**\n     * @return {?}\n     */\n    ServerXhr.prototype.build = /**\n     * @return {?}\n     */\n    function () { return new xhr2.XMLHttpRequest(); };\n    ServerXhr.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    ServerXhr.ctorParameters = function () { return []; };\n    return ServerXhr;\n}());\nvar ServerXsrfStrategy = /** @class */ (function () {\n    function ServerXsrfStrategy() {\n    }\n    /**\n     * @param {?} req\n     * @return {?}\n     */\n    ServerXsrfStrategy.prototype.configureRequest = /**\n     * @param {?} req\n     * @return {?}\n     */\n    function (req) { };\n    ServerXsrfStrategy.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    ServerXsrfStrategy.ctorParameters = function () { return []; };\n    return ServerXsrfStrategy;\n}());\n/**\n * @abstract\n */\nvar ZoneMacroTaskWrapper = /** @class */ (function () {\n    function ZoneMacroTaskWrapper() {\n    }\n    /**\n     * @param {?} request\n     * @return {?}\n     */\n    ZoneMacroTaskWrapper.prototype.wrap = /**\n     * @param {?} request\n     * @return {?}\n     */\n    function (request) {\n        var _this = this;\n        return new rxjs_Observable.Observable(function (observer) {\n            var /** @type {?} */ task = /** @type {?} */ ((null));\n            var /** @type {?} */ scheduled = false;\n            var /** @type {?} */ sub = null;\n            var /** @type {?} */ savedResult = null;\n            var /** @type {?} */ savedError = null;\n            var /** @type {?} */ scheduleTask = function (_task) {\n                task = _task;\n                scheduled = true;\n                var /** @type {?} */ delegate = _this.delegate(request);\n                sub = delegate.subscribe(function (res) { return savedResult = res; }, function (err) {\n                    if (!scheduled) {\n                        throw new Error('An http observable was completed twice. This shouldn\\'t happen, please file a bug.');\n                    }\n                    savedError = err;\n                    scheduled = false;\n                    task.invoke();\n                }, function () {\n                    if (!scheduled) {\n                        throw new Error('An http observable was completed twice. This shouldn\\'t happen, please file a bug.');\n                    }\n                    scheduled = false;\n                    task.invoke();\n                });\n            };\n            var /** @type {?} */ cancelTask = function (_task) {\n                if (!scheduled) {\n                    return;\n                }\n                scheduled = false;\n                if (sub) {\n                    sub.unsubscribe();\n                    sub = null;\n                }\n            };\n            var /** @type {?} */ onComplete = function () {\n                if (savedError !== null) {\n                    observer.error(savedError);\n                }\n                else {\n                    observer.next(savedResult);\n                    observer.complete();\n                }\n            };\n            // MockBackend for Http is synchronous, which means that if scheduleTask is by\n            // scheduleMacroTask, the request will hit MockBackend and the response will be\n            // sent, causing task.invoke() to be called.\n            var /** @type {?} */ _task = Zone.current.scheduleMacroTask('ZoneMacroTaskWrapper.subscribe', onComplete, {}, function () { return null; }, cancelTask);\n            scheduleTask(_task);\n            return function () {\n                if (scheduled && task) {\n                    task.zone.cancelTask(task);\n                    scheduled = false;\n                }\n                if (sub) {\n                    sub.unsubscribe();\n                    sub = null;\n                }\n            };\n        });\n    };\n    return ZoneMacroTaskWrapper;\n}());\nvar ZoneMacroTaskConnection = /** @class */ (function (_super) {\n    __extends(ZoneMacroTaskConnection, _super);\n    function ZoneMacroTaskConnection(request, backend) {\n        var _this = _super.call(this) || this;\n        _this.request = request;\n        _this.backend = backend;\n        validateRequestUrl(request.url);\n        _this.response = _this.wrap(request);\n        return _this;\n    }\n    /**\n     * @param {?} request\n     * @return {?}\n     */\n    ZoneMacroTaskConnection.prototype.delegate = /**\n     * @param {?} request\n     * @return {?}\n     */\n    function (request) {\n        this.lastConnection = this.backend.createConnection(request);\n        return /** @type {?} */ (this.lastConnection.response);\n    };\n    Object.defineProperty(ZoneMacroTaskConnection.prototype, \"readyState\", {\n        get: /**\n         * @return {?}\n         */\n        function () {\n            return !!this.lastConnection ? this.lastConnection.readyState : _angular_http.ReadyState.Unsent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ZoneMacroTaskConnection;\n}(ZoneMacroTaskWrapper));\nvar ZoneMacroTaskBackend = /** @class */ (function () {\n    function ZoneMacroTaskBackend(backend) {\n        this.backend = backend;\n    }\n    /**\n     * @param {?} request\n     * @return {?}\n     */\n    ZoneMacroTaskBackend.prototype.createConnection = /**\n     * @param {?} request\n     * @return {?}\n     */\n    function (request) {\n        return new ZoneMacroTaskConnection(request, this.backend);\n    };\n    return ZoneMacroTaskBackend;\n}());\nvar ZoneClientBackend = /** @class */ (function (_super) {\n    __extends(ZoneClientBackend, _super);\n    function ZoneClientBackend(backend) {\n        var _this = _super.call(this) || this;\n        _this.backend = backend;\n        return _this;\n    }\n    /**\n     * @param {?} request\n     * @return {?}\n     */\n    ZoneClientBackend.prototype.handle = /**\n     * @param {?} request\n     * @return {?}\n     */\n    function (request) { return this.wrap(request); };\n    /**\n     * @param {?} request\n     * @return {?}\n     */\n    ZoneClientBackend.prototype.delegate = /**\n     * @param {?} request\n     * @return {?}\n     */\n    function (request) {\n        return this.backend.handle(request);\n    };\n    return ZoneClientBackend;\n}(ZoneMacroTaskWrapper));\n/**\n * @param {?} xhrBackend\n * @param {?} options\n * @return {?}\n */\nfunction httpFactory(xhrBackend, options) {\n    var /** @type {?} */ macroBackend = new ZoneMacroTaskBackend(xhrBackend);\n    return new _angular_http.Http(macroBackend, options);\n}\n/**\n * @param {?} backend\n * @param {?} interceptors\n * @return {?}\n */\nfunction zoneWrappedInterceptingHandler(backend, interceptors) {\n    var /** @type {?} */ realBackend = _angular_common_http.ɵinterceptingHandler(backend, interceptors);\n    return new ZoneClientBackend(realBackend);\n}\nvar SERVER_HTTP_PROVIDERS = [\n    { provide: _angular_http.Http, useFactory: httpFactory, deps: [_angular_http.XHRBackend, _angular_http.RequestOptions] },\n    { provide: _angular_http.BrowserXhr, useClass: ServerXhr }, { provide: _angular_http.XSRFStrategy, useClass: ServerXsrfStrategy },\n    { provide: _angular_common_http.XhrFactory, useClass: ServerXhr }, {\n        provide: _angular_common_http.HttpHandler,\n        useFactory: zoneWrappedInterceptingHandler,\n        deps: [_angular_common_http.HttpBackend, [new _angular_core.Optional(), _angular_common_http.HTTP_INTERCEPTORS]]\n    }\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Config object passed to initialize the platform.\n *\n * \\@experimental\n * @record\n */\n\n/**\n * The DI token for setting the initial config for the platform.\n *\n * \\@experimental\n */\nvar INITIAL_CONFIG = new _angular_core.InjectionToken('Server.INITIAL_CONFIG');\n/**\n * A function that will be executed when calling `renderModuleFactory` or `renderModule` just\n * before current platform state is rendered to string.\n *\n * \\@experimental\n */\nvar BEFORE_APP_SERIALIZED = new _angular_core.InjectionToken('Server.RENDER_MODULE_HOOK');\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @param {?} urlStr\n * @return {?}\n */\nfunction parseUrl(urlStr) {\n    var /** @type {?} */ parsedUrl = url.parse(urlStr);\n    return {\n        pathname: parsedUrl.pathname || '',\n        search: parsedUrl.search || '',\n        hash: parsedUrl.hash || '',\n    };\n}\n/**\n * Server-side implementation of URL state. Implements `pathname`, `search`, and `hash`\n * but not the state stack.\n */\nvar ServerPlatformLocation = /** @class */ (function () {\n    function ServerPlatformLocation(_doc, _config) {\n        this._doc = _doc;\n        this.pathname = '/';\n        this.search = '';\n        this.hash = '';\n        this._hashUpdate = new rxjs_Subject.Subject();\n        var /** @type {?} */ config = /** @type {?} */ (_config);\n        if (!!config && !!config.url) {\n            var /** @type {?} */ parsedUrl = parseUrl(config.url);\n            this.pathname = parsedUrl.pathname;\n            this.search = parsedUrl.search;\n            this.hash = parsedUrl.hash;\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.getBaseHrefFromDOM = /**\n     * @return {?}\n     */\n    function () { return /** @type {?} */ ((_angular_platformBrowser.ɵgetDOM().getBaseHref(this._doc))); };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.onPopState = /**\n     * @param {?} fn\n     * @return {?}\n     */\n    function (fn) {\n        // No-op: a state stack is not implemented, so\n        // no events will ever come.\n    };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.onHashChange = /**\n     * @param {?} fn\n     * @return {?}\n     */\n    function (fn) { this._hashUpdate.subscribe(fn); };\n    Object.defineProperty(ServerPlatformLocation.prototype, \"url\", {\n        get: /**\n         * @return {?}\n         */\n        function () { return \"\" + this.pathname + this.search + this.hash; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} value\n     * @param {?} oldUrl\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.setHash = /**\n     * @param {?} value\n     * @param {?} oldUrl\n     * @return {?}\n     */\n    function (value, oldUrl) {\n        var _this = this;\n        if (this.hash === value) {\n            // Don't fire events if the hash has not changed.\n            return;\n        }\n        (/** @type {?} */ (this)).hash = value;\n        var /** @type {?} */ newUrl = this.url;\n        scheduleMicroTask(function () { return _this._hashUpdate.next(/** @type {?} */ ({ type: 'hashchange', oldUrl: oldUrl, newUrl: newUrl })); });\n    };\n    /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} newUrl\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.replaceState = /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} newUrl\n     * @return {?}\n     */\n    function (state, title, newUrl) {\n        var /** @type {?} */ oldUrl = this.url;\n        var /** @type {?} */ parsedUrl = parseUrl(newUrl);\n        (/** @type {?} */ (this)).pathname = parsedUrl.pathname;\n        (/** @type {?} */ (this)).search = parsedUrl.search;\n        this.setHash(parsedUrl.hash, oldUrl);\n    };\n    /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} newUrl\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.pushState = /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} newUrl\n     * @return {?}\n     */\n    function (state, title, newUrl) {\n        this.replaceState(state, title, newUrl);\n    };\n    /**\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.forward = /**\n     * @return {?}\n     */\n    function () { throw new Error('Not implemented'); };\n    /**\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.back = /**\n     * @return {?}\n     */\n    function () { throw new Error('Not implemented'); };\n    ServerPlatformLocation.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    ServerPlatformLocation.ctorParameters = function () { return [\n        { type: undefined, decorators: [{ type: _angular_core.Inject, args: [_angular_platformBrowser.DOCUMENT,] },] },\n        { type: undefined, decorators: [{ type: _angular_core.Optional }, { type: _angular_core.Inject, args: [INITIAL_CONFIG,] },] },\n    ]; };\n    return ServerPlatformLocation;\n}());\n/**\n * @param {?} fn\n * @return {?}\n */\nfunction scheduleMicroTask(fn) {\n    Zone.current.scheduleMicroTask('scheduleMicrotask', fn);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar EMPTY_ARRAY = [];\nvar ServerRendererFactory2 = /** @class */ (function () {\n    function ServerRendererFactory2(ngZone, document, sharedStylesHost) {\n        this.ngZone = ngZone;\n        this.document = document;\n        this.sharedStylesHost = sharedStylesHost;\n        this.rendererByCompId = new Map();\n        this.schema = new _angular_compiler.DomElementSchemaRegistry();\n        this.defaultRenderer = new DefaultServerRenderer2(document, ngZone, this.schema);\n    }\n    /**\n     * @param {?} element\n     * @param {?} type\n     * @return {?}\n     */\n    ServerRendererFactory2.prototype.createRenderer = /**\n     * @param {?} element\n     * @param {?} type\n     * @return {?}\n     */\n    function (element, type) {\n        if (!element || !type) {\n            return this.defaultRenderer;\n        }\n        switch (type.encapsulation) {\n            case _angular_core.ViewEncapsulation.Native:\n            case _angular_core.ViewEncapsulation.Emulated: {\n                var /** @type {?} */ renderer = this.rendererByCompId.get(type.id);\n                if (!renderer) {\n                    renderer = new EmulatedEncapsulationServerRenderer2(this.document, this.ngZone, this.sharedStylesHost, this.schema, type);\n                    this.rendererByCompId.set(type.id, renderer);\n                }\n                (/** @type {?} */ (renderer)).applyToHost(element);\n                return renderer;\n            }\n            case _angular_core.ViewEncapsulation.Native:\n                throw new Error('Native encapsulation is not supported on the server!');\n            default: {\n                if (!this.rendererByCompId.has(type.id)) {\n                    var /** @type {?} */ styles = _angular_platformBrowser.ɵflattenStyles(type.id, type.styles, []);\n                    this.sharedStylesHost.addStyles(styles);\n                    this.rendererByCompId.set(type.id, this.defaultRenderer);\n                }\n                return this.defaultRenderer;\n            }\n        }\n    };\n    /**\n     * @return {?}\n     */\n    ServerRendererFactory2.prototype.begin = /**\n     * @return {?}\n     */\n    function () { };\n    /**\n     * @return {?}\n     */\n    ServerRendererFactory2.prototype.end = /**\n     * @return {?}\n     */\n    function () { };\n    ServerRendererFactory2.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    ServerRendererFactory2.ctorParameters = function () { return [\n        { type: _angular_core.NgZone, },\n        { type: undefined, decorators: [{ type: _angular_core.Inject, args: [_angular_platformBrowser.DOCUMENT,] },] },\n        { type: _angular_platformBrowser.ɵSharedStylesHost, },\n    ]; };\n    return ServerRendererFactory2;\n}());\nvar DefaultServerRenderer2 = /** @class */ (function () {\n    function DefaultServerRenderer2(document, ngZone, schema) {\n        this.document = document;\n        this.ngZone = ngZone;\n        this.schema = schema;\n        this.data = Object.create(null);\n    }\n    /**\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.destroy = /**\n     * @return {?}\n     */\n    function () { };\n    /**\n     * @param {?} name\n     * @param {?=} namespace\n     * @param {?=} debugInfo\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.createElement = /**\n     * @param {?} name\n     * @param {?=} namespace\n     * @param {?=} debugInfo\n     * @return {?}\n     */\n    function (name, namespace, debugInfo) {\n        if (namespace) {\n            return _angular_platformBrowser.ɵgetDOM().createElementNS(_angular_platformBrowser.ɵNAMESPACE_URIS[namespace], name);\n        }\n        return _angular_platformBrowser.ɵgetDOM().createElement(name);\n    };\n    /**\n     * @param {?} value\n     * @param {?=} debugInfo\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.createComment = /**\n     * @param {?} value\n     * @param {?=} debugInfo\n     * @return {?}\n     */\n    function (value, debugInfo) { return _angular_platformBrowser.ɵgetDOM().createComment(value); };\n    /**\n     * @param {?} value\n     * @param {?=} debugInfo\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.createText = /**\n     * @param {?} value\n     * @param {?=} debugInfo\n     * @return {?}\n     */\n    function (value, debugInfo) { return _angular_platformBrowser.ɵgetDOM().createTextNode(value); };\n    /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.appendChild = /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @return {?}\n     */\n    function (parent, newChild) { _angular_platformBrowser.ɵgetDOM().appendChild(parent, newChild); };\n    /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @param {?} refChild\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.insertBefore = /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @param {?} refChild\n     * @return {?}\n     */\n    function (parent, newChild, refChild) {\n        if (parent) {\n            _angular_platformBrowser.ɵgetDOM().insertBefore(parent, refChild, newChild);\n        }\n    };\n    /**\n     * @param {?} parent\n     * @param {?} oldChild\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.removeChild = /**\n     * @param {?} parent\n     * @param {?} oldChild\n     * @return {?}\n     */\n    function (parent, oldChild) {\n        if (parent) {\n            _angular_platformBrowser.ɵgetDOM().removeChild(parent, oldChild);\n        }\n    };\n    /**\n     * @param {?} selectorOrNode\n     * @param {?=} debugInfo\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.selectRootElement = /**\n     * @param {?} selectorOrNode\n     * @param {?=} debugInfo\n     * @return {?}\n     */\n    function (selectorOrNode, debugInfo) {\n        var /** @type {?} */ el;\n        if (typeof selectorOrNode === 'string') {\n            el = _angular_platformBrowser.ɵgetDOM().querySelector(this.document, selectorOrNode);\n            if (!el) {\n                throw new Error(\"The selector \\\"\" + selectorOrNode + \"\\\" did not match any elements\");\n            }\n        }\n        else {\n            el = selectorOrNode;\n        }\n        _angular_platformBrowser.ɵgetDOM().clearNodes(el);\n        return el;\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.parentNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { return _angular_platformBrowser.ɵgetDOM().parentElement(node); };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.nextSibling = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { return _angular_platformBrowser.ɵgetDOM().nextSibling(node); };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @param {?=} namespace\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.setAttribute = /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @param {?=} namespace\n     * @return {?}\n     */\n    function (el, name, value, namespace) {\n        if (namespace) {\n            _angular_platformBrowser.ɵgetDOM().setAttributeNS(el, _angular_platformBrowser.ɵNAMESPACE_URIS[namespace], namespace + ':' + name, value);\n        }\n        else {\n            _angular_platformBrowser.ɵgetDOM().setAttribute(el, name, value);\n        }\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.removeAttribute = /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    function (el, name, namespace) {\n        if (namespace) {\n            _angular_platformBrowser.ɵgetDOM().removeAttributeNS(el, _angular_platformBrowser.ɵNAMESPACE_URIS[namespace], name);\n        }\n        else {\n            _angular_platformBrowser.ɵgetDOM().removeAttribute(el, name);\n        }\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.addClass = /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (el, name) { _angular_platformBrowser.ɵgetDOM().addClass(el, name); };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.removeClass = /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (el, name) { _angular_platformBrowser.ɵgetDOM().removeClass(el, name); };\n    /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} value\n     * @param {?} flags\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.setStyle = /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} value\n     * @param {?} flags\n     * @return {?}\n     */\n    function (el, style, value, flags) {\n        _angular_platformBrowser.ɵgetDOM().setStyle(el, style, value);\n    };\n    /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} flags\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.removeStyle = /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} flags\n     * @return {?}\n     */\n    function (el, style, flags) {\n        _angular_platformBrowser.ɵgetDOM().removeStyle(el, style);\n    };\n    /**\n     * @param {?} tagName\n     * @param {?} propertyName\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype._isSafeToReflectProperty = /**\n     * @param {?} tagName\n     * @param {?} propertyName\n     * @return {?}\n     */\n    function (tagName, propertyName) {\n        return this.schema.securityContext(tagName, propertyName, true) ===\n            this.schema.securityContext(tagName, propertyName, false);\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.setProperty = /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, name, value) {\n        checkNoSyntheticProp(name, 'property');\n        _angular_platformBrowser.ɵgetDOM().setProperty(el, name, value);\n        // Mirror property values for known HTML element properties in the attributes.\n        var /** @type {?} */ tagName = (/** @type {?} */ (el.tagName)).toLowerCase();\n        if (value != null && (typeof value === 'number' || typeof value == 'string') &&\n            this.schema.hasElement(tagName, EMPTY_ARRAY) &&\n            this.schema.hasProperty(tagName, name, EMPTY_ARRAY) &&\n            this._isSafeToReflectProperty(tagName, name)) {\n            this.setAttribute(el, name, value.toString());\n        }\n    };\n    /**\n     * @param {?} node\n     * @param {?} value\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.setValue = /**\n     * @param {?} node\n     * @param {?} value\n     * @return {?}\n     */\n    function (node, value) { _angular_platformBrowser.ɵgetDOM().setText(node, value); };\n    /**\n     * @param {?} target\n     * @param {?} eventName\n     * @param {?} callback\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.listen = /**\n     * @param {?} target\n     * @param {?} eventName\n     * @param {?} callback\n     * @return {?}\n     */\n    function (target, eventName, callback) {\n        var _this = this;\n        // Note: We are not using the EventsPlugin here as this is not needed\n        // to run our tests.\n        checkNoSyntheticProp(eventName, 'listener');\n        var /** @type {?} */ el = typeof target === 'string' ? _angular_platformBrowser.ɵgetDOM().getGlobalEventTarget(this.document, target) : target;\n        var /** @type {?} */ outsideHandler = function (event) { return _this.ngZone.runGuarded(function () { return callback(event); }); };\n        return this.ngZone.runOutsideAngular(function () { return (_angular_platformBrowser.ɵgetDOM().onAndCancel(el, eventName, outsideHandler)); });\n    };\n    return DefaultServerRenderer2;\n}());\nvar AT_CHARCODE = '@'.charCodeAt(0);\n/**\n * @param {?} name\n * @param {?} nameKind\n * @return {?}\n */\nfunction checkNoSyntheticProp(name, nameKind) {\n    if (name.charCodeAt(0) === AT_CHARCODE) {\n        throw new Error(\"Found the synthetic \" + nameKind + \" \" + name + \". Please include either \\\"BrowserAnimationsModule\\\" or \\\"NoopAnimationsModule\\\" in your application.\");\n    }\n}\nvar EmulatedEncapsulationServerRenderer2 = /** @class */ (function (_super) {\n    __extends(EmulatedEncapsulationServerRenderer2, _super);\n    function EmulatedEncapsulationServerRenderer2(document, ngZone, sharedStylesHost, schema, component) {\n        var _this = _super.call(this, document, ngZone, schema) || this;\n        _this.component = component;\n        var /** @type {?} */ styles = _angular_platformBrowser.ɵflattenStyles(component.id, component.styles, []);\n        sharedStylesHost.addStyles(styles);\n        _this.contentAttr = _angular_platformBrowser.ɵshimContentAttribute(component.id);\n        _this.hostAttr = _angular_platformBrowser.ɵshimHostAttribute(component.id);\n        return _this;\n    }\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    EmulatedEncapsulationServerRenderer2.prototype.applyToHost = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) { _super.prototype.setAttribute.call(this, element, this.hostAttr, ''); };\n    /**\n     * @param {?} parent\n     * @param {?} name\n     * @return {?}\n     */\n    EmulatedEncapsulationServerRenderer2.prototype.createElement = /**\n     * @param {?} parent\n     * @param {?} name\n     * @return {?}\n     */\n    function (parent, name) {\n        var /** @type {?} */ el = _super.prototype.createElement.call(this, parent, name);\n        _super.prototype.setAttribute.call(this, el, this.contentAttr, '');\n        return el;\n    };\n    return EmulatedEncapsulationServerRenderer2;\n}(DefaultServerRenderer2));\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar ServerStylesHost = /** @class */ (function (_super) {\n    __extends(ServerStylesHost, _super);\n    function ServerStylesHost(doc, transitionId) {\n        var _this = _super.call(this) || this;\n        _this.doc = doc;\n        _this.transitionId = transitionId;\n        _this.head = null;\n        _this.head = _angular_platformBrowser.ɵgetDOM().getElementsByTagName(doc, 'head')[0];\n        return _this;\n    }\n    /**\n     * @param {?} style\n     * @return {?}\n     */\n    ServerStylesHost.prototype._addStyle = /**\n     * @param {?} style\n     * @return {?}\n     */\n    function (style) {\n        var /** @type {?} */ adapter = _angular_platformBrowser.ɵgetDOM();\n        var /** @type {?} */ el = adapter.createElement('style');\n        adapter.setText(el, style);\n        if (!!this.transitionId) {\n            adapter.setAttribute(el, 'ng-transition', this.transitionId);\n        }\n        adapter.appendChild(this.head, el);\n    };\n    /**\n     * @param {?} additions\n     * @return {?}\n     */\n    ServerStylesHost.prototype.onStylesAdded = /**\n     * @param {?} additions\n     * @return {?}\n     */\n    function (additions) {\n        var _this = this;\n        additions.forEach(function (style) { return _this._addStyle(style); });\n    };\n    ServerStylesHost.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    ServerStylesHost.ctorParameters = function () { return [\n        { type: undefined, decorators: [{ type: _angular_core.Inject, args: [_angular_platformBrowser.DOCUMENT,] },] },\n        { type: undefined, decorators: [{ type: _angular_core.Optional }, { type: _angular_core.Inject, args: [_angular_platformBrowser.ɵTRANSITION_ID,] },] },\n    ]; };\n    return ServerStylesHost;\n}(_angular_platformBrowser.ɵSharedStylesHost));\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar INTERNAL_SERVER_PLATFORM_PROVIDERS = [\n    { provide: _angular_platformBrowser.DOCUMENT, useFactory: _document, deps: [_angular_core.Injector] },\n    { provide: _angular_core.PLATFORM_ID, useValue: _angular_common.ɵPLATFORM_SERVER_ID },\n    { provide: _angular_core.PLATFORM_INITIALIZER, useFactory: initDominoAdapter, multi: true, deps: [_angular_core.Injector] }, {\n        provide: _angular_common.PlatformLocation,\n        useClass: ServerPlatformLocation,\n        deps: [_angular_platformBrowser.DOCUMENT, [_angular_core.Optional, INITIAL_CONFIG]]\n    },\n    { provide: PlatformState, deps: [_angular_platformBrowser.DOCUMENT] },\n    // Add special provider that allows multiple instances of platformServer* to be created.\n    { provide: _angular_core.ɵALLOW_MULTIPLE_PLATFORMS, useValue: true }\n];\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction initDominoAdapter(injector) {\n    return function () { DominoAdapter.makeCurrent(); };\n}\n/**\n * @param {?} renderer\n * @param {?} engine\n * @param {?} zone\n * @return {?}\n */\nfunction instantiateServerRendererFactory(renderer, engine, zone) {\n    return new _angular_platformBrowser_animations.ɵAnimationRendererFactory(renderer, engine, zone);\n}\nvar SERVER_RENDER_PROVIDERS = [\n    ServerRendererFactory2,\n    {\n        provide: _angular_core.RendererFactory2,\n        useFactory: instantiateServerRendererFactory,\n        deps: [ServerRendererFactory2, _angular_animations_browser.ɵAnimationEngine, _angular_core.NgZone]\n    },\n    ServerStylesHost,\n    { provide: _angular_platformBrowser.ɵSharedStylesHost, useExisting: ServerStylesHost },\n];\n/**\n * The ng module for the server.\n *\n * \\@experimental\n */\nvar ServerModule = /** @class */ (function () {\n    function ServerModule() {\n    }\n    ServerModule.decorators = [\n        { type: _angular_core.NgModule, args: [{\n                    exports: [_angular_platformBrowser.BrowserModule],\n                    imports: [_angular_http.HttpModule, _angular_common_http.HttpClientModule, _angular_platformBrowser_animations.NoopAnimationsModule],\n                    providers: [\n                        SERVER_RENDER_PROVIDERS,\n                        SERVER_HTTP_PROVIDERS,\n                        { provide: _angular_core.Testability, useValue: null },\n                    ],\n                },] },\n    ];\n    /** @nocollapse */\n    ServerModule.ctorParameters = function () { return []; };\n    return ServerModule;\n}());\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction _document(injector) {\n    var /** @type {?} */ config = injector.get(INITIAL_CONFIG, null);\n    if (config && config.document) {\n        return parseDocument(config.document, config.url);\n    }\n    else {\n        return _angular_platformBrowser.ɵgetDOM().createHtmlDocument();\n    }\n}\n/**\n * \\@experimental\n */\nvar platformServer = _angular_core.createPlatformFactory(_angular_core.platformCore, 'server', INTERNAL_SERVER_PLATFORM_PROVIDERS);\n/**\n * The server platform that supports the runtime compiler.\n *\n * \\@experimental\n */\nvar platformDynamicServer = _angular_core.createPlatformFactory(_angular_platformBrowserDynamic.ɵplatformCoreDynamic, 'serverDynamic', INTERNAL_SERVER_PLATFORM_PROVIDERS);\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @param {?} doc\n * @param {?} appId\n * @param {?} transferStore\n * @return {?}\n */\nfunction serializeTransferStateFactory(doc, appId, transferStore) {\n    return function () {\n        var /** @type {?} */ script = doc.createElement('script');\n        script.id = appId + '-state';\n        script.setAttribute('type', 'application/json');\n        script.textContent = _angular_platformBrowser.ɵescapeHtml(transferStore.toJson());\n        doc.body.appendChild(script);\n    };\n}\n/**\n * NgModule to install on the server side while using the `TransferState` to transfer state from\n * server to client.\n *\n * \\@experimental\n */\nvar ServerTransferStateModule = /** @class */ (function () {\n    function ServerTransferStateModule() {\n    }\n    ServerTransferStateModule.decorators = [\n        { type: _angular_core.NgModule, args: [{\n                    providers: [\n                        _angular_platformBrowser.TransferState, {\n                            provide: BEFORE_APP_SERIALIZED,\n                            useFactory: serializeTransferStateFactory,\n                            deps: [_angular_platformBrowser.DOCUMENT, _angular_core.APP_ID, _angular_platformBrowser.TransferState],\n                            multi: true,\n                        }\n                    ]\n                },] },\n    ];\n    /** @nocollapse */\n    ServerTransferStateModule.ctorParameters = function () { return []; };\n    return ServerTransferStateModule;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @param {?} platformFactory\n * @param {?} options\n * @return {?}\n */\nfunction _getPlatform(platformFactory, options) {\n    var /** @type {?} */ extraProviders = options.extraProviders ? options.extraProviders : [];\n    return platformFactory([\n        { provide: INITIAL_CONFIG, useValue: { document: options.document, url: options.url } },\n        extraProviders\n    ]);\n}\n/**\n * @template T\n * @param {?} platform\n * @param {?} moduleRefPromise\n * @return {?}\n */\nfunction _render(platform, moduleRefPromise) {\n    return moduleRefPromise.then(function (moduleRef) {\n        var /** @type {?} */ transitionId = moduleRef.injector.get(_angular_platformBrowser.ɵTRANSITION_ID, null);\n        if (!transitionId) {\n            throw new Error(\"renderModule[Factory]() requires the use of BrowserModule.withServerTransition() to ensure\\nthe server-rendered app can be properly bootstrapped into a client app.\");\n        }\n        var /** @type {?} */ applicationRef = moduleRef.injector.get(_angular_core.ApplicationRef);\n        return rxjs_operator_toPromise.toPromise\n            .call(rxjs_operator_first.first.call(rxjs_operator_filter.filter.call(applicationRef.isStable, function (isStable) { return isStable; })))\n            .then(function () {\n            var /** @type {?} */ platformState = platform.injector.get(PlatformState);\n            // Run any BEFORE_APP_SERIALIZED callbacks just before rendering to string.\n            var /** @type {?} */ callbacks = moduleRef.injector.get(BEFORE_APP_SERIALIZED, null);\n            if (callbacks) {\n                for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n                    var callback = callbacks_1[_i];\n                    try {\n                        callback();\n                    }\n                    catch (/** @type {?} */ e) {\n                        // Ignore exceptions.\n                        console.warn('Ignoring BEFORE_APP_SERIALIZED Exception: ', e);\n                    }\n                }\n            }\n            var /** @type {?} */ output = platformState.renderToString();\n            platform.destroy();\n            return output;\n        });\n    });\n}\n/**\n * Renders a Module to string.\n *\n * `document` is the full document HTML of the page to render, as a string.\n * `url` is the URL for the current render request.\n * `extraProviders` are the platform level providers for the current render request.\n *\n * Do not use this in a production server environment. Use pre-compiled {\\@link NgModuleFactory} with\n * {\\@link renderModuleFactory} instead.\n *\n * \\@experimental\n * @template T\n * @param {?} module\n * @param {?} options\n * @return {?}\n */\nfunction renderModule(module, options) {\n    var /** @type {?} */ platform = _getPlatform(platformDynamicServer, options);\n    return _render(platform, platform.bootstrapModule(module));\n}\n/**\n * Renders a {\\@link NgModuleFactory} to string.\n *\n * `document` is the full document HTML of the page to render, as a string.\n * `url` is the URL for the current render request.\n * `extraProviders` are the platform level providers for the current render request.\n *\n * \\@experimental\n * @template T\n * @param {?} moduleFactory\n * @param {?} options\n * @return {?}\n */\nfunction renderModuleFactory(moduleFactory, options) {\n    var /** @type {?} */ platform = _getPlatform(platformServer, options);\n    return _render(platform, platform.bootstrapModuleFactory(moduleFactory));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * \\@stable\n */\nvar VERSION = new _angular_core.Version('5.2.9');\n\nexports.PlatformState = PlatformState;\nexports.ServerModule = ServerModule;\nexports.platformDynamicServer = platformDynamicServer;\nexports.platformServer = platformServer;\nexports.BEFORE_APP_SERIALIZED = BEFORE_APP_SERIALIZED;\nexports.INITIAL_CONFIG = INITIAL_CONFIG;\nexports.ServerTransferStateModule = ServerTransferStateModule;\nexports.renderModule = renderModule;\nexports.renderModuleFactory = renderModuleFactory;\nexports.VERSION = VERSION;\nexports.ɵINTERNAL_SERVER_PLATFORM_PROVIDERS = INTERNAL_SERVER_PLATFORM_PROVIDERS;\nexports.ɵSERVER_RENDER_PROVIDERS = SERVER_RENDER_PROVIDERS;\nexports.ɵServerRendererFactory2 = ServerRendererFactory2;\nexports.ɵh = SERVER_HTTP_PROVIDERS;\nexports.ɵd = ServerXhr;\nexports.ɵe = ServerXsrfStrategy;\nexports.ɵf = httpFactory;\nexports.ɵg = zoneWrappedInterceptingHandler;\nexports.ɵa = instantiateServerRendererFactory;\nexports.ɵc = ServerStylesHost;\nexports.ɵb = serializeTransferStateFactory;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=platform-server.umd.js.map\n"]}